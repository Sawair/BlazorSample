version: 2
jobs:
  build:
    docker:
      - image: mcr.microsoft.com/dotnet/core/sdk:3.0-disco

    working_directory: /src

    steps:
      - checkout
      
      - store_artifacts:
          path: /src
          destination: /src

      - run:
          name: Restore
          command: dotnet restore

      - run:
          name: Build
          command: dotnet build -o /src/app

      - store_artifacts:
          path: /src/app
          destination: /app